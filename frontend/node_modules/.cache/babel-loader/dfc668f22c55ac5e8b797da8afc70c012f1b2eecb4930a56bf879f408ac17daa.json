{"ast":null,"code":"var _jsxFileName = \"/Users/bagjimin/Desktop/aichatbot-project/frontend/src/pages/LoginPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/LoginPage.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"http://localhost:8001\";\nexport default function LoginPage() {\n  _s();\n  const [status, setStatus] = useState(\"idle\");\n  const [me, setMe] = useState(null);\n  const navigate = useNavigate();\n\n  // 로그인 성공 감지 → 홈으로 이동\n  useEffect(() => {\n    const q = new URLSearchParams(window.location.search);\n    if (q.get(\"login\") === \"success\") {\n      setStatus(\"success\");\n\n      // (선택) 프로필 한 번 확인해보고\n      fetch(`${API_BASE}/profile`, {\n        credentials: \"include\"\n      }).then(r => r.text()).then(t => setMe(t)).catch(() => {}).finally(() => {\n        // 바로 홈으로 이동 (필요시 '/home' 등으로 변경)\n        navigate(\"/home\", {\n          replace: true\n        });\n      });\n    }\n  }, [navigate]);\n  const handleKakaoLogin = () => {\n    // ✅ 로그인 후 무조건 홈으로 돌아가도록 next='/'\n    const next = \"/\";\n    window.location.href = `${API_BASE}/authorize?next=${encodeURIComponent(next)}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.wrap,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0\n        },\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"#666\"\n        },\n        children: \"\\uCE74\\uCE74\\uC624\\uB85C \\uB85C\\uADF8\\uC778\\uD558\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleKakaoLogin,\n        style: styles.kakaoBtn,\n        children: \"\\uCE74\\uCE74\\uC624\\uB85C \\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), status === \"success\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"green\",\n            fontWeight: 600\n          },\n          children: \"\\uB85C\\uADF8\\uC778 \\uC131\\uACF5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          style: styles.pre,\n          children: me || \"사용자 정보를 불러오는 중... (profile 호출)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginPage, \"epvTqcPOhz4YbH1PQ6jDuhUBCJo=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nconst styles = {\n  wrap: {\n    minHeight: \"100vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    background: \"#f7f7f9\",\n    padding: 24\n  },\n  card: {\n    width: 360,\n    background: \"#fff\",\n    borderRadius: 16,\n    boxShadow: \"0 8px 24px rgba(0,0,0,0.08)\",\n    padding: 24\n  },\n  kakaoBtn: {\n    width: \"100%\",\n    padding: \"12px 14px\",\n    borderRadius: 10,\n    border: \"1px solid #FEE500\",\n    background: \"#FEE500\",\n    fontWeight: 700,\n    cursor: \"pointer\",\n    marginTop: 12\n  },\n  pre: {\n    marginTop: 8,\n    background: \"#fafafa\",\n    border: \"1px solid #eee\",\n    borderRadius: 8,\n    padding: 8,\n    fontSize: 12,\n    maxHeight: 200,\n    overflow: \"auto\"\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","API_BASE","LoginPage","_s","status","setStatus","me","setMe","navigate","q","URLSearchParams","window","location","search","get","fetch","credentials","then","r","text","t","catch","finally","replace","handleKakaoLogin","next","href","encodeURIComponent","style","styles","wrap","children","card","margin","fileName","_jsxFileName","lineNumber","columnNumber","color","onClick","kakaoBtn","marginTop","fontWeight","pre","_c","minHeight","display","alignItems","justifyContent","background","padding","width","borderRadius","boxShadow","border","cursor","fontSize","maxHeight","overflow","$RefreshReg$"],"sources":["/Users/bagjimin/Desktop/aichatbot-project/frontend/src/pages/LoginPage.jsx"],"sourcesContent":["// src/pages/LoginPage.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst API_BASE = \"http://localhost:8001\";\n\nexport default function LoginPage() {\n  const [status, setStatus] = useState(\"idle\");\n  const [me, setMe] = useState(null);\n  const navigate = useNavigate();\n\n  // 로그인 성공 감지 → 홈으로 이동\n  useEffect(() => {\n    const q = new URLSearchParams(window.location.search);\n    if (q.get(\"login\") === \"success\") {\n      setStatus(\"success\");\n\n      // (선택) 프로필 한 번 확인해보고\n      fetch(`${API_BASE}/profile`, { credentials: \"include\" })\n        .then((r) => r.text())\n        .then((t) => setMe(t))\n        .catch(() => {})\n        .finally(() => {\n          // 바로 홈으로 이동 (필요시 '/home' 등으로 변경)\n          navigate(\"/home\", { replace: true });\n        });\n    }\n  }, [navigate]);\n\n  const handleKakaoLogin = () => {\n    // ✅ 로그인 후 무조건 홈으로 돌아가도록 next='/'\n    const next = \"/\";\n    window.location.href = `${API_BASE}/authorize?next=${encodeURIComponent(next)}`;\n  };\n\n  return (\n    <div style={styles.wrap}>\n      <div style={styles.card}>\n        <h2 style={{ margin: 0 }}>로그인</h2>\n        <p style={{ color: \"#666\" }}>카카오로 로그인하세요.</p>\n\n        <button onClick={handleKakaoLogin} style={styles.kakaoBtn}>\n          카카오로 로그인\n        </button>\n\n        {status === \"success\" && (\n          <div style={{ marginTop: 16 }}>\n            <span style={{ color: \"green\", fontWeight: 600 }}>로그인 성공</span>\n            <pre style={styles.pre}>\n              {me || \"사용자 정보를 불러오는 중... (profile 호출)\"}\n            </pre>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  wrap: {\n    minHeight: \"100vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    background: \"#f7f7f9\",\n    padding: 24,\n  },\n  card: {\n    width: 360,\n    background: \"#fff\",\n    borderRadius: 16,\n    boxShadow: \"0 8px 24px rgba(0,0,0,0.08)\",\n    padding: 24,\n  },\n  kakaoBtn: {\n    width: \"100%\",\n    padding: \"12px 14px\",\n    borderRadius: 10,\n    border: \"1px solid #FEE500\",\n    background: \"#FEE500\",\n    fontWeight: 700,\n    cursor: \"pointer\",\n    marginTop: 12,\n  },\n  pre: {\n    marginTop: 8,\n    background: \"#fafafa\",\n    border: \"1px solid #eee\",\n    borderRadius: 8,\n    padding: 8,\n    fontSize: 12,\n    maxHeight: 200,\n    overflow: \"auto\",\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}