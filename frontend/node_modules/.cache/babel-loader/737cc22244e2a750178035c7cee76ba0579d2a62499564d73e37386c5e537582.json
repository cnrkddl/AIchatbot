{"ast":null,"code":"var _jsxFileName = \"/Users/bagjimin/Desktop/aichatbot-project/frontend/src/components/PatientHistoryCard.jsx\";\n// src/components/PatientHistoryCard.jsx\nimport React from \"react\";\n\n/**\n * PatientHistoryCard\n * - 한 날짜의 간호기록(items)을 카드로 표시\n *\n * props:\n *  - date: \"YYYY-MM-DD\"\n *  - items: Array<{ keyword?: string, detail?: string }>\n *  - keywordColor: Record<string, string>\n *  - highlightQuery?: string   // 검색어 하이라이트\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PatientHistoryCard({\n  date,\n  items = [],\n  keywordColor = {},\n  highlightQuery = \"\"\n}) {\n  const grouped = groupByKeyword(items);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: S.card,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: S.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: S.date,\n        children: formatDate(date)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: S.count,\n        children: [items.length, \"\\uAC74\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), items.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: S.empty,\n      children: \"\\uD56D\\uBAA9 \\uC5C6\\uC74C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: S.body,\n      children: Object.entries(grouped).map(([kw, arr]) => {\n        const color = keywordColor[kw] || keywordColor[\"기타\"] || \"#64748b\";\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: S.group,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              ...S.kwPill,\n              color,\n              background: `${color}20`,\n              border: `1px solid ${color}40`\n            },\n            children: [kw, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: S.kwCount,\n              children: arr.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: S.list,\n            children: arr.map((it, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              style: S.item,\n              children: renderHighlighted(it.detail || \"-\", highlightQuery)\n            }, `${kw}-${i}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this)]\n        }, kw, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n}\n\n/* ===== Utils ===== */\n_c = PatientHistoryCard;\nfunction groupByKeyword(items) {\n  const out = {};\n  for (const it of items) {\n    const k = it.keyword || \"기타\";\n    (out[k] ||= []).push(it);\n  }\n  return out;\n}\nfunction formatDate(d) {\n  if (!d) return \"-\";\n  try {\n    const dt = new Date(d);\n    const y = dt.getFullYear();\n    const m = `${dt.getMonth() + 1}`.padStart(2, \"0\");\n    const day = `${dt.getDate()}`.padStart(2, \"0\");\n    return `${y}.${m}.${day}`;\n  } catch {\n    return d;\n  }\n}\nfunction renderHighlighted(text, q) {\n  if (!q) return text;\n  const idx = text.toLowerCase().indexOf(q.toLowerCase());\n  if (idx === -1) return text;\n  const before = text.slice(0, idx);\n  const match = text.slice(idx, idx + q.length);\n  const after = text.slice(idx + q.length);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [before, /*#__PURE__*/_jsxDEV(\"mark\", {\n      style: {\n        padding: 0\n      },\n      children: match\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), renderHighlighted(after, q)]\n  }, void 0, true);\n}\n\n/* ===== Styles ===== */\n\nconst S = {\n  card: {\n    background: \"#fff\",\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 16,\n    padding: 14,\n    boxShadow: \"0 1px 2px rgba(0,0,0,0.03)\"\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"baseline\",\n    justifyContent: \"space-between\",\n    marginBottom: 8\n  },\n  date: {\n    fontSize: 16,\n    fontWeight: 800,\n    color: \"#0f172a\"\n  },\n  count: {\n    fontSize: 12,\n    color: \"#64748b\"\n  },\n  empty: {\n    padding: 12,\n    textAlign: \"center\",\n    color: \"#94a3b8\",\n    background: \"#f8fafc\",\n    borderRadius: 12,\n    border: \"1px dashed #e5e7eb\"\n  },\n  body: {\n    display: \"grid\",\n    gap: 10\n  },\n  group: {\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 12,\n    padding: 10,\n    background: \"#fafafa\"\n  },\n  kwPill: {\n    display: \"inline-block\",\n    fontSize: 12,\n    fontWeight: 800,\n    padding: \"4px 8px\",\n    borderRadius: 999,\n    marginBottom: 8\n  },\n  kwCount: {\n    fontWeight: 700,\n    marginLeft: 6,\n    opacity: 0.8\n  },\n  list: {\n    margin: 0,\n    paddingLeft: 18\n  },\n  item: {\n    margin: \"4px 0\",\n    color: \"#0f172a\",\n    fontSize: 14,\n    lineHeight: 1.5\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"PatientHistoryCard\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Fragment","_Fragment","PatientHistoryCard","date","items","keywordColor","highlightQuery","grouped","groupByKeyword","style","S","card","children","header","formatDate","fileName","_jsxFileName","lineNumber","columnNumber","count","length","empty","body","Object","entries","map","kw","arr","color","group","kwPill","background","border","kwCount","list","it","i","item","renderHighlighted","detail","_c","out","k","keyword","push","d","dt","Date","y","getFullYear","m","getMonth","padStart","day","getDate","text","q","idx","toLowerCase","indexOf","before","slice","match","after","padding","borderRadius","boxShadow","display","alignItems","justifyContent","marginBottom","fontSize","fontWeight","textAlign","gap","marginLeft","opacity","margin","paddingLeft","lineHeight","$RefreshReg$"],"sources":["/Users/bagjimin/Desktop/aichatbot-project/frontend/src/components/PatientHistoryCard.jsx"],"sourcesContent":["// src/components/PatientHistoryCard.jsx\nimport React from \"react\";\n\n/**\n * PatientHistoryCard\n * - 한 날짜의 간호기록(items)을 카드로 표시\n *\n * props:\n *  - date: \"YYYY-MM-DD\"\n *  - items: Array<{ keyword?: string, detail?: string }>\n *  - keywordColor: Record<string, string>\n *  - highlightQuery?: string   // 검색어 하이라이트\n */\nexport default function PatientHistoryCard({\n  date,\n  items = [],\n  keywordColor = {},\n  highlightQuery = \"\",\n}) {\n  const grouped = groupByKeyword(items);\n\n  return (\n    <div style={S.card}>\n      <div style={S.header}>\n        <div style={S.date}>{formatDate(date)}</div>\n        <div style={S.count}>{items.length}건</div>\n      </div>\n\n      {items.length === 0 ? (\n        <div style={S.empty}>항목 없음</div>\n      ) : (\n        <div style={S.body}>\n          {Object.entries(grouped).map(([kw, arr]) => {\n            const color = keywordColor[kw] || keywordColor[\"기타\"] || \"#64748b\";\n            return (\n              <div key={kw} style={S.group}>\n                <span\n                  style={{\n                    ...S.kwPill,\n                    color,\n                    background: `${color}20`,\n                    border: `1px solid ${color}40`,\n                  }}\n                >\n                  {kw} <span style={S.kwCount}>{arr.length}</span>\n                </span>\n                <ul style={S.list}>\n                  {arr.map((it, i) => (\n                    <li key={`${kw}-${i}`} style={S.item}>\n                      {renderHighlighted(it.detail || \"-\", highlightQuery)}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n\n/* ===== Utils ===== */\n\nfunction groupByKeyword(items) {\n  const out = {};\n  for (const it of items) {\n    const k = it.keyword || \"기타\";\n    (out[k] ||= []).push(it);\n  }\n  return out;\n}\n\nfunction formatDate(d) {\n  if (!d) return \"-\";\n  try {\n    const dt = new Date(d);\n    const y = dt.getFullYear();\n    const m = `${dt.getMonth() + 1}`.padStart(2, \"0\");\n    const day = `${dt.getDate()}`.padStart(2, \"0\");\n    return `${y}.${m}.${day}`;\n  } catch {\n    return d;\n  }\n}\n\nfunction renderHighlighted(text, q) {\n  if (!q) return text;\n  const idx = text.toLowerCase().indexOf(q.toLowerCase());\n  if (idx === -1) return text;\n  const before = text.slice(0, idx);\n  const match = text.slice(idx, idx + q.length);\n  const after = text.slice(idx + q.length);\n  return (\n    <>\n      {before}\n      <mark style={{ padding: 0 }}>{match}</mark>\n      {renderHighlighted(after, q)}\n    </>\n  );\n}\n\n/* ===== Styles ===== */\n\nconst S = {\n  card: {\n    background: \"#fff\",\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 16,\n    padding: 14,\n    boxShadow: \"0 1px 2px rgba(0,0,0,0.03)\",\n  },\n  header: {\n    display: \"flex\",\n    alignItems: \"baseline\",\n    justifyContent: \"space-between\",\n    marginBottom: 8,\n  },\n  date: { fontSize: 16, fontWeight: 800, color: \"#0f172a\" },\n  count: { fontSize: 12, color: \"#64748b\" },\n  empty: {\n    padding: 12,\n    textAlign: \"center\",\n    color: \"#94a3b8\",\n    background: \"#f8fafc\",\n    borderRadius: 12,\n    border: \"1px dashed #e5e7eb\",\n  },\n  body: { display: \"grid\", gap: 10 },\n  group: {\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 12,\n    padding: 10,\n    background: \"#fafafa\",\n  },\n  kwPill: {\n    display: \"inline-block\",\n    fontSize: 12,\n    fontWeight: 800,\n    padding: \"4px 8px\",\n    borderRadius: 999,\n    marginBottom: 8,\n  },\n  kwCount: { fontWeight: 700, marginLeft: 6, opacity: 0.8 },\n  list: { margin: 0, paddingLeft: 18 },\n  item: { margin: \"4px 0\", color: \"#0f172a\", fontSize: 14, lineHeight: 1.5 },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}