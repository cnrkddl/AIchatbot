{"ast":null,"code":"var _jsxFileName = \"/Users/bagjimin/Desktop/aichatbot-project/frontend/src/pages/PatientInfoPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Header from \"../components/Header\"; // 프로젝트에 이미 있는 헤더 사용\n\n/**\n * PatientInfoPage\n * - 백엔드의 /patients/:patientId/nursing-notes API를 호출해 날짜별 특이사항을 표시\n * - 가장 최근 날짜를 기본 선택, 날짜 드롭다운으로 전환 가능\n * - 키워드별 배지 색상/카운트 요약\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function PatientInfoPage() {\n  _s();\n  var _notes;\n  // URL에서 환자 ID 추출. 라우팅이 다르면 아래 patientId를 직접 지정해도 됩니다.\n  const {\n    patientId: routePatientId\n  } = useParams();\n  const [patientId, setPatientId] = useState(routePatientId || \"25-0000032\");\n  const API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8001\";\n  const [notes, setNotes] = useState([]); // [{date, items:[{keyword, detail}]}]\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [selectedDate, setSelectedDate] = useState(\"\");\n\n  // 키워드에 따른 색상 매핑 (필요시 키워드 추가)\n  const keywordColor = useMemo(() => ({\n    발열: \"#ef4444\",\n    가래: \"#06b6d4\",\n    자가배뇨: \"#8b5cf6\",\n    욕창: \"#f59e0b\",\n    통증: \"#f97316\",\n    식사: \"#22c55e\",\n    수면: \"#3b82f6\",\n    산소: \"#0ea5e9\",\n    기타: \"#64748b\"\n  }), []);\n\n  // 환자ID 변경/첫 로드 시 데이터 가져오기\n  useEffect(() => {\n    let ignore = false;\n    async function fetchNotes() {\n      setLoading(true);\n      setError(\"\");\n      try {\n        const res = await fetch(`${API_BASE}/patients/${patientId}/nursing-notes`);\n        if (!res.ok) {\n          const {\n            detail\n          } = await res.json().catch(() => ({\n            detail: res.statusText\n          }));\n          throw new Error(detail || `API Error ${res.status}`);\n        }\n        const data = await res.json();\n        if (!ignore) {\n          setNotes(Array.isArray(data) ? data : []);\n          // 가장 최근 날짜를 기본 선택\n          if (Array.isArray(data) && data.length > 0) {\n            setSelectedDate(data[data.length - 1].date);\n          } else {\n            setSelectedDate(\"\");\n          }\n        }\n      } catch (e) {\n        if (!ignore) setError(e.message || \"불러오기에 실패했습니다.\");\n      } finally {\n        if (!ignore) setLoading(false);\n      }\n    }\n    fetchNotes();\n    return () => {\n      ignore = true;\n    };\n  }, [API_BASE, patientId]);\n\n  // 날짜 목록 (오름차순으로 들어오므로 렌더는 내림차순 보기로 바꿔도 됨)\n  const dates = useMemo(() => notes.map(n => n.date), [notes]);\n\n  // 선택된 날짜의 항목\n  const selectedItems = useMemo(() => {\n    const day = notes.find(n => n.date === selectedDate);\n    return (day === null || day === void 0 ? void 0 : day.items) || [];\n  }, [notes, selectedDate]);\n\n  // 키워드 카운트 요약 (전체 기간)\n  const keywordStats = useMemo(() => {\n    const counts = {};\n    for (const d of notes) {\n      for (const it of d.items || []) {\n        const k = it.keyword || \"기타\";\n        counts[k] = (counts[k] || 0) + 1;\n      }\n    }\n    // 정렬: 많이 등장한 순\n    return Object.entries(counts).sort((a, b) => b[1] - a[1]).map(([k, v]) => ({\n      keyword: k,\n      count: v\n    }));\n  }, [notes]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.page,\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.topBar,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.titleWrap,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: styles.title,\n            children: \"\\uD658\\uC790 \\uC0C1\\uD0DC \\uC815\\uBCF4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: styles.subtitle,\n            children: \"\\uAC04\\uD638\\uAE30\\uB85D\\uC9C0 \\uD2B9\\uC774\\uC0AC\\uD56D\\uC744 \\uB0A0\\uC9DC\\uBCC4\\uB85C \\uD655\\uC778\\uD569\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.controls,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: [\"\\uD658\\uC790\\uBC88\\uD638\", /*#__PURE__*/_jsxDEV(\"input\", {\n              value: patientId,\n              onChange: e => setPatientId(e.target.value.trim()),\n              style: styles.input,\n              placeholder: \"\\uC608: 25-0000032\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: [\"\\uB0A0\\uC9DC \\uC120\\uD0DD\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedDate,\n              onChange: e => setSelectedDate(e.target.value),\n              style: styles.select,\n              children: [dates.length === 0 && /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\uB370\\uC774\\uD130 \\uC5C6\\uC74C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 40\n              }, this), dates.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: d,\n                children: d\n              }, d, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.stateBox,\n        children: \"\\uBD88\\uB7EC\\uC624\\uB294 \\uC911\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }, this), !!error && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...styles.stateBox,\n          color: \"#ef4444\"\n        },\n        children: [\"\\uC5D0\\uB7EC: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), !loading && !error && notes.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.stateBox,\n        children: \"\\uD45C\\uC2DC\\uD560 \\uAC04\\uD638\\uAE30\\uB85D\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), !loading && !error && notes.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.cardsGrid,\n          children: [/*#__PURE__*/_jsxDEV(SummaryCard, {\n            title: \"\\uCD1D \\uAE30\\uB85D \\uC77C\\uC218\",\n            value: `${notes.length}일`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n            title: \"\\uD0A4\\uC6CC\\uB4DC \\uC885\\uB958\",\n            value: `${keywordStats.length}개`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SummaryCard, {\n            title: \"\\uAC00\\uC7A5 \\uCD5C\\uADFC \\uB0A0\\uC9DC\",\n            value: ((_notes = notes[notes.length - 1]) === null || _notes === void 0 ? void 0 : _notes.date) || \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.section,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"\\uD0A4\\uC6CC\\uB4DC \\uC694\\uC57D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.badgeWrap,\n            children: [keywordStats.length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u2014 \\uC5C6\\uC74C \\u2014\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 47\n            }, this), keywordStats.map(({\n              keyword,\n              count\n            }) => /*#__PURE__*/_jsxDEV(Badge, {\n              text: `${keyword} ${count}`,\n              color: keywordColor[keyword] || keywordColor[\"기타\"]\n            }, keyword, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.section,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: selectedDate || \"날짜 선택\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.list,\n            children: [selectedItems.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.muted,\n              children: \"\\uD56D\\uBAA9 \\uC5C6\\uC74C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 48\n            }, this), selectedItems.map((it, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.itemRow,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  ...styles.itemKeyword,\n                  background: (keywordColor[it.keyword] || keywordColor[\"기타\"]) + \"20\",\n                  color: keywordColor[it.keyword] || keywordColor[\"기타\"]\n                },\n                children: it.keyword || \"기타\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: styles.itemDetail,\n                children: it.detail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 21\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.section,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: styles.sectionTitle,\n            children: \"\\uC804\\uCCB4 \\uD788\\uC2A4\\uD1A0\\uB9AC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.timeline,\n            children: notes.map(d => {\n              var _d$items;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: styles.dayCard,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: styles.dayHeader,\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: d.date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: styles.smallMuted,\n                    children: [((_d$items = d.items) === null || _d$items === void 0 ? void 0 : _d$items.length) || 0, \"\\uAC74\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  style: styles.ul,\n                  children: (d.items || []).map((it, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    style: styles.li,\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: it.keyword || \"기타\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 27\n                    }, this), \" \\u2014 \", it.detail]\n                  }, `${d.date}-${i}`, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this)]\n              }, d.date, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n_s(PatientInfoPage, \"aj4cwMnctN3r/8Y7xgnb2peRAME=\", false, function () {\n  return [useParams];\n});\n_c = PatientInfoPage;\nfunction SummaryCard({\n  title,\n  value\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.card,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.cardTitle,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.cardValue,\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n}\n_c2 = SummaryCard;\nfunction Badge({\n  text,\n  color = \"#64748b\"\n}) {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      display: \"inline-block\",\n      padding: \"6px 10px\",\n      borderRadius: 999,\n      background: `${color}20`,\n      color,\n      fontSize: 13,\n      fontWeight: 600,\n      margin: \"4px 8px 4px 0\"\n    },\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this);\n}\n\n// --- styles ---\n_c3 = Badge;\nconst styles = {\n  page: {\n    minHeight: \"100vh\",\n    background: \"#f8fafc\"\n  },\n  container: {\n    maxWidth: 1100,\n    margin: \"0 auto\",\n    padding: \"20px 16px 48px\"\n  },\n  topBar: {\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    justifyContent: \"space-between\",\n    gap: 16,\n    margin: \"12px 0 20px\"\n  },\n  titleWrap: {\n    maxWidth: 640\n  },\n  title: {\n    margin: 0,\n    fontSize: 24,\n    fontWeight: 800,\n    color: \"#0f172a\"\n  },\n  subtitle: {\n    margin: \"6px 0 0\",\n    color: \"#475569\"\n  },\n  controls: {\n    display: \"flex\",\n    gap: 12,\n    flexWrap: \"wrap\"\n  },\n  label: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontSize: 13,\n    color: \"#334155\"\n  },\n  input: {\n    height: 38,\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 10,\n    padding: \"0 12px\",\n    minWidth: 180,\n    outline: \"none\"\n  },\n  select: {\n    height: 38,\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 10,\n    padding: \"0 12px\",\n    minWidth: 160,\n    outline: \"none\",\n    background: \"#fff\"\n  },\n  stateBox: {\n    background: \"#fff\",\n    border: \"1px dashed #e5e7eb\",\n    borderRadius: 14,\n    padding: 18,\n    textAlign: \"center\",\n    color: \"#334155\"\n  },\n  cardsGrid: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(3, minmax(0, 1fr))\",\n    gap: 12,\n    marginTop: 8\n  },\n  card: {\n    background: \"#fff\",\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 16,\n    padding: 16,\n    boxShadow: \"0 1px 2px rgba(0,0,0,0.03)\"\n  },\n  cardTitle: {\n    fontSize: 12,\n    color: \"#6b7280\",\n    marginBottom: 6\n  },\n  cardValue: {\n    fontSize: 22,\n    fontWeight: 800,\n    color: \"#0f172a\"\n  },\n  section: {\n    marginTop: 28\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: 800,\n    margin: \"0 0 10px\",\n    color: \"#0f172a\"\n  },\n  badgeWrap: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  list: {\n    background: \"#fff\",\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 14,\n    padding: 12\n  },\n  itemRow: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 10,\n    padding: \"8px 6px\",\n    borderBottom: \"1px solid #f1f5f9\"\n  },\n  itemKeyword: {\n    fontSize: 12,\n    padding: \"4px 8px\",\n    borderRadius: 999,\n    fontWeight: 700\n  },\n  itemDetail: {\n    fontSize: 14,\n    color: \"#0f172a\"\n  },\n  muted: {\n    color: \"#64748b\"\n  },\n  smallMuted: {\n    color: \"#94a3b8\"\n  },\n  timeline: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(2, minmax(0,1fr))\",\n    gap: 12\n  },\n  dayCard: {\n    background: \"#fff\",\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 14,\n    padding: 12\n  },\n  dayHeader: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginBottom: 6\n  },\n  ul: {\n    margin: 0,\n    paddingLeft: 18\n  },\n  li: {\n    margin: \"6px 0\"\n  }\n};\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"PatientInfoPage\");\n$RefreshReg$(_c2, \"SummaryCard\");\n$RefreshReg$(_c3, \"Badge\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useParams","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","PatientInfoPage","_s","_notes","patientId","routePatientId","setPatientId","API_BASE","process","env","REACT_APP_API_BASE","notes","setNotes","loading","setLoading","error","setError","selectedDate","setSelectedDate","keywordColor","발열","가래","자가배뇨","욕창","통증","식사","수면","산소","기타","ignore","fetchNotes","res","fetch","ok","detail","json","catch","statusText","Error","status","data","Array","isArray","length","date","e","message","dates","map","n","selectedItems","day","find","items","keywordStats","counts","d","it","k","keyword","Object","entries","sort","a","b","v","count","style","styles","page","children","fileName","_jsxFileName","lineNumber","columnNumber","container","topBar","titleWrap","title","subtitle","controls","label","value","onChange","target","trim","input","placeholder","select","stateBox","color","cardsGrid","SummaryCard","section","sectionTitle","badgeWrap","Badge","text","list","muted","idx","itemRow","itemKeyword","background","itemDetail","timeline","_d$items","dayCard","dayHeader","smallMuted","ul","i","li","_c","card","cardTitle","cardValue","_c2","display","padding","borderRadius","fontSize","fontWeight","margin","_c3","minHeight","maxWidth","alignItems","justifyContent","gap","flexWrap","flexDirection","height","border","minWidth","outline","textAlign","gridTemplateColumns","marginTop","boxShadow","marginBottom","borderBottom","paddingLeft","$RefreshReg$"],"sources":["/Users/bagjimin/Desktop/aichatbot-project/frontend/src/pages/PatientInfoPage.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Header from \"../components/Header\"; // 프로젝트에 이미 있는 헤더 사용\n\n/**\n * PatientInfoPage\n * - 백엔드의 /patients/:patientId/nursing-notes API를 호출해 날짜별 특이사항을 표시\n * - 가장 최근 날짜를 기본 선택, 날짜 드롭다운으로 전환 가능\n * - 키워드별 배지 색상/카운트 요약\n */\nexport default function PatientInfoPage() {\n  // URL에서 환자 ID 추출. 라우팅이 다르면 아래 patientId를 직접 지정해도 됩니다.\n  const { patientId: routePatientId } = useParams();\n  const [patientId, setPatientId] = useState(routePatientId || \"25-0000032\");\n\n  const API_BASE = process.env.REACT_APP_API_BASE || \"http://localhost:8001\";\n\n  const [notes, setNotes] = useState([]); // [{date, items:[{keyword, detail}]}]\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [selectedDate, setSelectedDate] = useState(\"\");\n\n  // 키워드에 따른 색상 매핑 (필요시 키워드 추가)\n  const keywordColor = useMemo(\n    () => ({\n      발열: \"#ef4444\",\n      가래: \"#06b6d4\",\n      자가배뇨: \"#8b5cf6\",\n      욕창: \"#f59e0b\",\n      통증: \"#f97316\",\n      식사: \"#22c55e\",\n      수면: \"#3b82f6\",\n      산소: \"#0ea5e9\",\n      기타: \"#64748b\",\n    }),\n    []\n  );\n\n  // 환자ID 변경/첫 로드 시 데이터 가져오기\n  useEffect(() => {\n    let ignore = false;\n    async function fetchNotes() {\n      setLoading(true);\n      setError(\"\");\n      try {\n        const res = await fetch(`${API_BASE}/patients/${patientId}/nursing-notes`);\n        if (!res.ok) {\n          const { detail } = await res.json().catch(() => ({ detail: res.statusText }));\n          throw new Error(detail || `API Error ${res.status}`);\n        }\n        const data = await res.json();\n        if (!ignore) {\n          setNotes(Array.isArray(data) ? data : []);\n          // 가장 최근 날짜를 기본 선택\n          if (Array.isArray(data) && data.length > 0) {\n            setSelectedDate(data[data.length - 1].date);\n          } else {\n            setSelectedDate(\"\");\n          }\n        }\n      } catch (e) {\n        if (!ignore) setError(e.message || \"불러오기에 실패했습니다.\");\n      } finally {\n        if (!ignore) setLoading(false);\n      }\n    }\n    fetchNotes();\n    return () => {\n      ignore = true;\n    };\n  }, [API_BASE, patientId]);\n\n  // 날짜 목록 (오름차순으로 들어오므로 렌더는 내림차순 보기로 바꿔도 됨)\n  const dates = useMemo(() => notes.map((n) => n.date), [notes]);\n\n  // 선택된 날짜의 항목\n  const selectedItems = useMemo(() => {\n    const day = notes.find((n) => n.date === selectedDate);\n    return day?.items || [];\n  }, [notes, selectedDate]);\n\n  // 키워드 카운트 요약 (전체 기간)\n  const keywordStats = useMemo(() => {\n    const counts = {};\n    for (const d of notes) {\n      for (const it of d.items || []) {\n        const k = it.keyword || \"기타\";\n        counts[k] = (counts[k] || 0) + 1;\n      }\n    }\n    // 정렬: 많이 등장한 순\n    return Object.entries(counts)\n      .sort((a, b) => b[1] - a[1])\n      .map(([k, v]) => ({ keyword: k, count: v }));\n  }, [notes]);\n\n  return (\n    <div style={styles.page}>\n      <Header />\n\n      <div style={styles.container}>\n        <div style={styles.topBar}>\n          <div style={styles.titleWrap}>\n            <h2 style={styles.title}>환자 상태 정보</h2>\n            <p style={styles.subtitle}>간호기록지 특이사항을 날짜별로 확인합니다.</p>\n          </div>\n\n          <div style={styles.controls}>\n            <label style={styles.label}>\n              환자번호\n              <input\n                value={patientId}\n                onChange={(e) => setPatientId(e.target.value.trim())}\n                style={styles.input}\n                placeholder=\"예: 25-0000032\"\n              />\n            </label>\n\n            <label style={styles.label}>\n              날짜 선택\n              <select\n                value={selectedDate}\n                onChange={(e) => setSelectedDate(e.target.value)}\n                style={styles.select}\n              >\n                {dates.length === 0 && <option value=\"\">데이터 없음</option>}\n                {dates.map((d) => (\n                  <option key={d} value={d}>\n                    {d}\n                  </option>\n                ))}\n              </select>\n            </label>\n          </div>\n        </div>\n\n        {loading && <div style={styles.stateBox}>불러오는 중…</div>}\n        {!!error && !loading && (\n          <div style={{ ...styles.stateBox, color: \"#ef4444\" }}>에러: {error}</div>\n        )}\n        {!loading && !error && notes.length === 0 && (\n          <div style={styles.stateBox}>표시할 간호기록이 없습니다.</div>\n        )}\n\n        {!loading && !error && notes.length > 0 && (\n          <>\n            {/* 상단 요약 카드들 */}\n            <div style={styles.cardsGrid}>\n              <SummaryCard title=\"총 기록 일수\" value={`${notes.length}일`} />\n              <SummaryCard title=\"키워드 종류\" value={`${keywordStats.length}개`} />\n              <SummaryCard\n                title=\"가장 최근 날짜\"\n                value={notes[notes.length - 1]?.date || \"-\"}\n              />\n            </div>\n\n            {/* 키워드 통계 배지 */}\n            <div style={styles.section}>\n              <h3 style={styles.sectionTitle}>키워드 요약</h3>\n              <div style={styles.badgeWrap}>\n                {keywordStats.length === 0 && <span>— 없음 —</span>}\n                {keywordStats.map(({ keyword, count }) => (\n                  <Badge key={keyword} text={`${keyword} ${count}`} color={keywordColor[keyword] || keywordColor[\"기타\"]} />\n                ))}\n              </div>\n            </div>\n\n            {/* 선택 날짜 상세 */}\n            <div style={styles.section}>\n              <h3 style={styles.sectionTitle}>{selectedDate || \"날짜 선택\"}</h3>\n              <div style={styles.list}>\n                {selectedItems.length === 0 && <div style={styles.muted}>항목 없음</div>}\n                {selectedItems.map((it, idx) => (\n                  <div key={idx} style={styles.itemRow}>\n                    <span style={{ ...styles.itemKeyword, background: (keywordColor[it.keyword] || keywordColor[\"기타\"]) + \"20\" , color: keywordColor[it.keyword] || keywordColor[\"기타\"] }}>\n                      {it.keyword || \"기타\"}\n                    </span>\n                    <span style={styles.itemDetail}>{it.detail}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* 전체 히스토리 (최신이 아래 오도록 오름차순 유지) */}\n            <div style={styles.section}>\n              <h3 style={styles.sectionTitle}>전체 히스토리</h3>\n              <div style={styles.timeline}>\n                {notes.map((d) => (\n                  <div key={d.date} style={styles.dayCard}>\n                    <div style={styles.dayHeader}>\n                      <strong>{d.date}</strong>\n                      <small style={styles.smallMuted}>{d.items?.length || 0}건</small>\n                    </div>\n                    <ul style={styles.ul}>\n                      {(d.items || []).map((it, i) => (\n                        <li key={`${d.date}-${i}`} style={styles.li}>\n                          <b>{it.keyword || \"기타\"}</b> — {it.detail}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction SummaryCard({ title, value }) {\n  return (\n    <div style={styles.card}>\n      <div style={styles.cardTitle}>{title}</div>\n      <div style={styles.cardValue}>{value}</div>\n    </div>\n  );\n}\n\nfunction Badge({ text, color = \"#64748b\" }) {\n  return (\n    <span\n      style={{\n        display: \"inline-block\",\n        padding: \"6px 10px\",\n        borderRadius: 999,\n        background: `${color}20`,\n        color,\n        fontSize: 13,\n        fontWeight: 600,\n        margin: \"4px 8px 4px 0\",\n      }}\n    >\n      {text}\n    </span>\n  );\n}\n\n// --- styles ---\nconst styles = {\n  page: {\n    minHeight: \"100vh\",\n    background: \"#f8fafc\",\n  },\n  container: {\n    maxWidth: 1100,\n    margin: \"0 auto\",\n    padding: \"20px 16px 48px\",\n  },\n  topBar: {\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    justifyContent: \"space-between\",\n    gap: 16,\n    margin: \"12px 0 20px\",\n  },\n  titleWrap: { maxWidth: 640 },\n  title: { margin: 0, fontSize: 24, fontWeight: 800, color: \"#0f172a\" },\n  subtitle: { margin: \"6px 0 0\", color: \"#475569\" },\n  controls: { display: \"flex\", gap: 12, flexWrap: \"wrap\" },\n  label: { display: \"flex\", flexDirection: \"column\", fontSize: 13, color: \"#334155\" },\n  input: {\n    height: 38,\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 10,\n    padding: \"0 12px\",\n    minWidth: 180,\n    outline: \"none\",\n  },\n  select: {\n    height: 38,\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 10,\n    padding: \"0 12px\",\n    minWidth: 160,\n    outline: \"none\",\n    background: \"#fff\",\n  },\n  stateBox: {\n    background: \"#fff\",\n    border: \"1px dashed #e5e7eb\",\n    borderRadius: 14,\n    padding: 18,\n    textAlign: \"center\",\n    color: \"#334155\",\n  },\n  cardsGrid: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(3, minmax(0, 1fr))\",\n    gap: 12,\n    marginTop: 8,\n  },\n  card: {\n    background: \"#fff\",\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 16,\n    padding: 16,\n    boxShadow: \"0 1px 2px rgba(0,0,0,0.03)\",\n  },\n  cardTitle: { fontSize: 12, color: \"#6b7280\", marginBottom: 6 },\n  cardValue: { fontSize: 22, fontWeight: 800, color: \"#0f172a\" },\n  section: { marginTop: 28 },\n  sectionTitle: { fontSize: 16, fontWeight: 800, margin: \"0 0 10px\", color: \"#0f172a\" },\n  badgeWrap: { display: \"flex\", flexWrap: \"wrap\" },\n  list: { background: \"#fff\", border: \"1px solid #e5e7eb\", borderRadius: 14, padding: 12 },\n  itemRow: { display: \"flex\", alignItems: \"center\", gap: 10, padding: \"8px 6px\", borderBottom: \"1px solid #f1f5f9\" },\n  itemKeyword: {\n    fontSize: 12,\n    padding: \"4px 8px\",\n    borderRadius: 999,\n    fontWeight: 700,\n  },\n  itemDetail: { fontSize: 14, color: \"#0f172a\" },\n  muted: { color: \"#64748b\" },\n  smallMuted: { color: \"#94a3b8\" },\n  timeline: { display: \"grid\", gridTemplateColumns: \"repeat(2, minmax(0,1fr))\", gap: 12 },\n  dayCard: { background: \"#fff\", border: \"1px solid #e5e7eb\", borderRadius: 14, padding: 12 },\n  dayHeader: { display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: 6 },\n  ul: { margin: 0, paddingLeft: 18 },\n  li: { margin: \"6px 0\" },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}